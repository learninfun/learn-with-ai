

Boyer-Moore算法是一种高效的字符串匹配算法。该算法的核心思想是在匹配的过程中尽可能减少重复比较的次数，跳过不可能匹配的部分，从而提高匹配的效率。

Boyer-Moore算法分为两个阶段：预处理和匹配。在预处理阶段，算法会构建两个不同的表格：坏字符表和好后缀表。这些表格会被用于在匹配阶段中判断模式串和文本串的匹配位置。

在匹配阶段中，算法会从模式串的末尾开始，逐个比较模式串和文本串的字符。如果发现某个字符不匹配，那么就获取坏字符表和好后缀表中的信息，跳过一些不可能匹配的位置，继续进行匹配，直到找到完全匹配的位置或者匹配失败。

举个例子，假设我们要在文本串 "ABC ABCDAB ABCDABCDABDE" 中查找模式串 "ABCDABD"，则该算法的匹配过程如下：

1. 预处理阶段

构建坏字符表：

| 字符 | 位置 | 
|----- |----- |
| A    | 6    | 
| B    | 5    | 
| C    | 4    | 
| D    | 0    | 

构建好后缀表：

| 后缀     | 位置           | 
|-------- |-------------- |
| ABD     | 4             |
| BD      | 3             |
| D       | 0, 2, 5, 7    | 

2. 匹配阶段

从模式串的末尾开始比较，发现 "D" 不匹配，从坏字符表中取出 "D" 对应的位置为 0，移动模式串使得 "D" 对应的位置和文本串中的字符对齐，即移动 6 - 0 = 6 个位置。

| 模式串   | ABCDABD             | 
|-------- |----------------- |
| 文本串   | ABC ABCDAB ABCDABCDABDE  | 
|         |           ^     | 

接下来比较 "B" 和 "E"，发现不匹配，从坏字符表中取出 "E" 对应的位置为 -1，表示不存在，则 "B" 可以与文本串中的下一个字符对齐，即向右移动 1 个位置。

| 模式串   | ABCDABD             | 
|-------- |----------------- |
| 文本串   | ABC ABCDAB ABCDABCDABDE  | 
|         |            ^     | 

接着继续比较，发现 "A" 不匹配，从好后缀表中找到最长的可以和模式串匹配的后缀为 "ABD"，将模式串右移 4 个位置。

| 模式串   | ABCDABD             | 
|-------- |----------------- |
| 文本串   | ABC ABCDAB ABCDABCDABDE  | 
|         |             ^    | 

在比较 "C" 和 "C" 时，发现匹配成功。匹配完成后，算法会继续从模式串末尾开始比较，直到匹配失败或者找到全部匹配位置。