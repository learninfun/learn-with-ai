

Longest Common Subsequence（LCS）是指：给定两个序列，找到它们中都出现的最长子序列。其中，子序列是源序列中保持相对顺序的元素子集(不一定相连)，而不需要完全连续。

例如：
序列X：A B C B D A B
序列Y：B D C A B A
它们的最长公共子序列为BCBA，长度为4。

在计算LCS时，通常使用动态规划(Dynamic Programming)的方法解决。可以建立一个矩阵，从高左角开始，往右下角填充。

假设X序列长度为m，Y序列长度为n，LCS的长度为L[m][n]。
则，L[i][j]，代表X序列前i个元素和Y序列前j个元素的LCS长度：

L[i][j] = L[i-1][j-1] + 1 if X[i-1] = Y[j-1]
L[i][j] = max(L[i-1][j], L[i][j-1]) if X[i-1] != Y[j-1]

在填表时，如果X[i-1] = Y[j-1]，即可填L[i-1][j-1] + 1。否则，取L[i-1][j]和L[i][j-1]中的最大值。

最终，L[m][n]就是X与Y序列的最长公共子序列的长度。而其中包含的LCS元素可以通过反向追踪表格而得到。

例如，对于上例中的序列，其LCS长度矩阵如下所示：

    B D C A B A
  0 0 0 0 0 0 0
A 0 0 0 0 0 1 1
B 0 1 1 1 1 1 2
C 0 1 2 2 2 2 2
B 0 1 2 2 3 3 3
D 0 1 2 2 3 3 3
A 0 1 2 2 3 4 4
B 0 1 2 2 3 4 5

最后，经过追踪表格，得到的LCS为BCBA。