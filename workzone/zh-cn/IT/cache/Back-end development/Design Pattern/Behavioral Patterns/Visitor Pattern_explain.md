

Visitor Pattern是一种设计模式，用于在不修改现有物件结构的情况下，定义一种新的操作方式。

这个模式的基本思想是将操作与物件结构分开，使得操作可以独立于物件结构地变化。具体来说，它将操作定义为一个访问者（Visitor），这个访问者可以访问物件结构中的每一个元素，并对其进行相应的处理。而物件结构则包含多个元素，这些元素可以接受访问者的访问并相应地调用其操作。

举例来说，假设我们有一个简单的图形绘制应用程序，其中包含不同种类的图形，如矩形、圆形、三角形等。我们想要实现一个功能，即在绘制时能够计算每个图形的面积。鉴于每种图形的面积计算方式不同，我们可以使用Visitor Pattern来实现。

首先，我们定义一个接口Shape，它具有一个接受访问者访问的方法accept(Visitor visitor)。然后，我们实现几个不同的图形，都实现了上述接口。

接着，我们定义一个访问者接口Visitor，它具有与不同图形对应的访问方法，如visit(Rectangle rectangle)、visit(Circle circle)等。这些访问方法的具体实现方式则根据图形种类不同而不同，可以计算相应的面积。

最后，在绘制应用程序中，我们可以创建一个访问者对象，并依次访问每个图形，由访问者依次计算每个图形的面积。这样，我们就能够在不修改图形等原有代码的情况下，实现一个新的功能。