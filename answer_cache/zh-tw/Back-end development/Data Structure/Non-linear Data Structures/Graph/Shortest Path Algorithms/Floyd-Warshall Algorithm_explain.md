

Floyd-Warshall算法是一種動態規划算法，用於在帶權圖中查找所有節點的最短路徑。該算法的時間複雜度為O(n^3)，其中n是圖中節點的數量。

具體實現步驟如下：

1. 創建一個n x n的二維數組D，並將所有元素初始化為無窮大（表示i和j之間沒有邊）。

2. 對於圖中每個有權邊（i，j）和邊權w，將D[i][j]設置為w。

3. 對於每個節點i，將D[i][i]設置為0（表示節點到自身的距離為0）。

4. 使用三重循環迭代計算每個節點之間的最短路徑，並更新D數組。具體來說，對於每個節點k，遍歷所有節點i和j，如果從節點i到節點j的路徑經過節點k會更短，則將D[i][j]更新為D[i][k] + D[k][j]。

5. 最終，數組D中包含所有節點之間的最短路徑。

下面是一個簡單的示例：

假設有以下帶權圖：

```
     12
(0)------>(1)
 |         /|\
10|          |
 |          | 1
\|/         |
(2)------>(3)
     3
```

根據上述步驟，我們可以進行如下的計算：

1. 初始化2維數組D：
```
   0 ∞ ∞ ∞
 ∞   0 ∞ ∞
 ∞ ∞   0 ∞
 ∞ ∞ ∞   0
```

2. 將邊加入D：
```
   0 12 ∞ ∞
12   0 10  1
 ∞  10  0  3
 ∞   1  3  0
```

3. 對角線元素為0：
```
0 12 ∞ ∞
12 0 10 1
∞ 10 0 3
∞ 1 3 0
```

4. Floyd-Warshall算法計算最短路徑：
```
0 12 22 13
12 0 10 1
22 10 0 3
13 1 3 0
```

從上述結果可以看出，節點0到節點1的最短路徑長度為12，從節點0到節點3的最短路徑為13，等等。