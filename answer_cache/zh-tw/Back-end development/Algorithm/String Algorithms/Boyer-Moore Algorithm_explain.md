

Boyer-Moore算法是一種高效的字符串匹配算法。該算法的核心思想是在匹配的過程中盡可能減少重複比較的次數，跳過不可能匹配的部分，從而提高匹配的效率。

Boyer-Moore算法分為兩個階段：預處理和匹配。在預處理階段，算法會構建兩個不同的表格：壞字符表和好後綴表。這些表格會被用於在匹配階段中判斷模式串和文本串的匹配位置。

在匹配階段中，算法會從模式串的末尾開始，逐個比較模式串和文本串的字符。如果發現某個字符不匹配，那麼就獲取壞字符表和好後綴表中的信息，跳過一些不可能匹配的位置，繼續進行匹配，直到找到完全匹配的位置或者匹配失敗。

舉個例子，假設我們要在文本串 "ABC ABCDAB ABCDABCDABDE" 中查找模式串 "ABCDABD"，則該算法的匹配過程如下：

1. 預處理階段

構建壞字符表：

| 字符 | 位置 | 
|----- |----- |
| A    | 6    | 
| B    | 5    | 
| C    | 4    | 
| D    | 0    | 

構建好後綴表：

| 後綴     | 位置           | 
|-------- |-------------- |
| ABD     | 4             |
| BD      | 3             |
| D       | 0, 2, 5, 7    | 

2. 匹配階段

從模式串的末尾開始比較，發現 "D" 不匹配，從壞字符表中取出 "D" 對應的位置為 0，移動模式串使得 "D" 對應的位置和文本串中的字符對齊，即移動 6 - 0 = 6 個位置。

| 模式串   | ABCDABD             | 
|-------- |----------------- |
| 文本串   | ABC ABCDAB ABCDABCDABDE  | 
|         |           ^     | 

接下來比較 "B" 和 "E"，發現不匹配，從壞字符表中取出 "E" 對應的位置為 -1，表示不存在，則 "B" 可以與文本串中的下一個字符對齊，即向右移動 1 個位置。

| 模式串   | ABCDABD             | 
|-------- |----------------- |
| 文本串   | ABC ABCDAB ABCDABCDABDE  | 
|         |            ^     | 

接著繼續比較，發現 "A" 不匹配，從好後綴表中找到最長的可以和模式串匹配的後綴為 "ABD"，將模式串右移 4 個位置。

| 模式串   | ABCDABD             | 
|-------- |----------------- |
| 文本串   | ABC ABCDAB ABCDABCDABDE  | 
|         |             ^    | 

在比較 "C" 和 "C" 時，發現匹配成功。匹配完成後，算法會繼續從模式串末尾開始比較，直到匹配失敗或者找到全部匹配位置。