

Floyd-Warshall算法是一种动态规划算法，用于在带权图中查找所有节点的最短路径。该算法的时间复杂度为O(n^3)，其中n是图中节点的数量。

具体实现步骤如下：

1. 创建一个n x n的二维数组D，并将所有元素初始化为无穷大（表示i和j之间没有边）。

2. 对于图中每个有权边（i，j）和边权w，将D[i][j]设置为w。

3. 对于每个节点i，将D[i][i]设置为0（表示节点到自身的距离为0）。

4. 使用三重循环迭代计算每个节点之间的最短路径，并更新D数组。具体来说，对于每个节点k，遍历所有节点i和j，如果从节点i到节点j的路径经过节点k会更短，则将D[i][j]更新为D[i][k] + D[k][j]。

5. 最终，数组D中包含所有节点之间的最短路径。

下面是一个简单的示例：

假设有以下带权图：

```
     12
(0)------>(1)
 |         /|\
10|          |
 |          | 1
\|/         |
(2)------>(3)
     3
```

根据上述步骤，我们可以进行如下的计算：

1. 初始化2维数组D：
```
   0 ∞ ∞ ∞
 ∞   0 ∞ ∞
 ∞ ∞   0 ∞
 ∞ ∞ ∞   0
```

2. 将边加入D：
```
   0 12 ∞ ∞
12   0 10  1
 ∞  10  0  3
 ∞   1  3  0
```

3. 对角线元素为0：
```
0 12 ∞ ∞
12 0 10 1
∞ 10 0 3
∞ 1 3 0
```

4. Floyd-Warshall算法计算最短路径：
```
0 12 22 13
12 0 10 1
22 10 0 3
13 1 3 0
```

从上述结果可以看出，节点0到节点1的最短路径长度为12，从节点0到节点3的最短路径为13，等等。